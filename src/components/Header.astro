---
import { Icon } from "astro-icon/components";
import site from "@/site.json";

const { class: className } = Astro.props
---

<header class:list={[className]}>
  <div class="text-shadow navbar p-4 min-h-0">
    <div class="flex-1">
      <a class="text-2xl md:text-4xl hover:text-inherit" href="/">{site.name}</a
      >
    </div>
    <label class="flex-none swap z-20">
      <input id="menu" type="checkbox" />
      <div class="swap-off">
        <Icon class="icon-shadow" name="mdi:plus" size="32" />
      </div>
      <div class="swap-on">
        <Icon class="icon-shadow" name="mdi:close" size="32" />
      </div>
    </label>
  </div>

  <div
    id="backdrop"
    class="flex invisible opacity-0 fixed top-0 bg-white transition-all text-black justify-center items-center h-full w-full z-10"
  >
    <div class="text-center">
      <h1 class="text-4xl font-bold mb-8">{site.name}</h1>
      <nav class="mb-8">
        <ul>
          <li>
            <a href="/contacto">contacto</a>
          </li>
        </ul>
      </nav>
    </div>
  </div>
  <script>
    document.addEventListener("astro:page-load", () => {
      const backdrop = document.getElementById("backdrop");
      const checkbox = document.getElementById("menu");

      function toggleMenu() {
        if (checkbox.checked) {
          backdrop.classList.remove("invisible", "opacity-0");
        } else {
          backdrop.classList.add("invisible", "opacity-0");
        }
      }
      checkbox.addEventListener("click", toggleMenu);
    });
  </script>
</header>

<style>
  /* .text-shadow {
    text-shadow: 1px 1px 1px white;
  }
  .icon-shadow {
    filter: drop-shadow(1px 1px 1px white);
  } */
</style>